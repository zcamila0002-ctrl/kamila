<!doctype html>
<html lang="ru">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Опросник Д. Олвеуса — Буллинг</title>
  <style>
    body {font-family: Arial, sans-serif; background:#f7f9fb; margin:0; padding:0;}
    .container {max-width:800px; margin:0 auto; padding:20px;}
    h1 {text-align:center; font-size:20px; margin-bottom:10px;}
    p {text-align:center; font-size:14px; color:#444;}
    table {width:100%; border-collapse:collapse; margin-top:20px;}
    th, td {border:1px solid #ccc; padding:6px; font-size:13px; text-align:center;}
    th {background:#e9eef3;}
    label {font-weight:600;}
    .btn {margin-top:20px; padding:10px 16px; background:#2b6cb0; color:#fff; border:none; border-radius:8px; cursor:pointer;}
    .btn:hover {background:#2c5282;}
    .result {margin-top:20px; padding:12px; background:#edf2f7; border-radius:8px; display:none;}
    @media(max-width:600px){th,td{font-size:11px;padding:4px;}}
  </style>
</head>
<body>
  <div class="container">
    <h1>Опросник Д. Олвеуса «Буллинг»</h1>
    <p>Класс: ____________ &nbsp;&nbsp; Дата: сентябрь 2025</p>

    <form id="quiz">
      <table>
        <thead>
          <tr>
            <th>№</th>
            <th>Вопрос</th>
            <th>0<br><span style="font-size:11px">Никогда</span></th>
            <th>1<br><span style="font-size:11px">Раз или два</span></th>
            <th>2<br><span style="font-size:11px">Иногда</span></th>
            <th>3<br><span style="font-size:11px">Раз в неделю</span></th>
            <th>4<br><span style="font-size:11px">Несколько раз в неделю</span></th>
          </tr>
        </thead>
        <tbody id="questions"></tbody>
      </table>
      <button type="button" class="btn" onclick="calculate()">Посчитать результаты</button>
    </form>

    <div id="output" class="result"></div>
  </div>

  <script>
    const questions = [
      "Я кого-то обозвал",
      "Я с кем-то специально не разговаривал",
      "Я нанес кому-то физический вред, например, толкнул или ударил",
      "Я распространял о ком-то сплетни",
      "Я угрожал",
      "Я украл или испортил чьи-то вещи",
      "Меня обзывали",
      "Обо мне распространяли сплетни",
      "Никто не хочет сидеть со мной или проводить свободное время",
      "У меня украли вещи",
      "Мне нанесли физический вред (ударили, толкнули)",
      "Никто не говорит со мной",
      "Мне угрожали"
    ];

    const tbody = document.getElementById("questions");
    questions.forEach((q,i)=>{
      const row = document.createElement("tr");
      row.innerHTML = `
        <td>${i+1}</td>
        <td style="text-align:left">${q}</td>
        ${[0,1,2,3,4].map(v=>`<td><input type="radio" name="q${i}" value="${v}" required></td>`).join('')}
      `;
      tbody.appendChild(row);
    });

    function calculate(){
      let answers = [];
      for(let i=0;i<questions.length;i++){
        let checked = document.querySelector(`input[name=q${i}]:checked`);
        if(!checked){alert("Ответьте на все вопросы");return;}
        answers.push(Number(checked.value));
      }

      // Активный буллинг: 1,3,5,6,2,4 (indexes 0,2,4,5,1,3)
      let active = answers[0]+answers[2]+answers[4]+answers[5]+answers[1]+answers[3];
      let activeMean = active/6;

      // Виктимизация: 7–13 (indexes 6..12)
      let victim = answers.slice(6).reduce((a,b)=>a+b,0);
      let victimMean = victim/7;

      function interpret(m){
        if(m<=1) return "Слабо выражен";
        if(m<3) return "Умеренно выражен";
        return "Ярко выражен";
      }

      document.getElementById("output").style.display="block";
      document.getElementById("output").innerHTML = `
        <h3>Результаты</h3>
        <p><b>Активный буллинг:</b> ${activeMean.toFixed(2)} (${interpret(activeMean)})</p>
        <p><b>Виктимизация:</b> ${victimMean.toFixed(2)} (${interpret(victimMean)})</p>
      `;
    }
  </script>
</body>
</html>
